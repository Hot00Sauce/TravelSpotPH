<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Search - TravelSpot PH</title>
    <link rel="icon" type="image/png" href="img/TravelSpotPH1.png">
    
    <!-- PWA Meta Tags -->
    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#2a5298">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="TravelSpot PH">
    <link rel="apple-touch-icon" href="/img/TravelSpotPH1.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/img/TravelSpotPH1.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/img/TravelSpotPH1.png">
    <link rel="apple-touch-icon" sizes="167x167" href="/img/TravelSpotPH1.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
    <link rel="stylesheet" href="css/search.css">
    <script src="js/auth.js" defer></script>
    <!--Google fonts-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat&display=swap" rel="stylesheet">
</head>
<body>
<!--Header-->
<div class="header">
    <header>
        <nav>
            <input type="checkbox" id="check">
            <label for="check" class="checkbtn"> 
                <i class="fas fa-bars"></i>
            </label>
            <a href="index.html" class="logo-link">
              <img src="img/TravelSpotPH2.png" alt="TravelSpot PH" class="logo-img">
            </a>
            <form class="searchbox" method="GET" action="search.html">
                <input type="text" placeholder="Search" name="search" id="searchInput">
                <button type="submit"> <i class="fa fa-search" alt="Search"></i></button>
            </form>
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="travel.html">Travel</a></li>
                <li><a href="aboutus.html">About us</a></li>
                <li id="auth-menu">
                    <a href="signup.html">Log in / Sign up</a>
                </li>
            </ul>
        </nav>
    </header>
</div>

<!--Search Results-->
<div class="search-container">
    <div class="search-header">
        <h1><i class="fas fa-search"></i> Search Results</h1>
        <p id="searchQuery"></p>
    </div>

    <div class="results-content" id="resultsContainer">
        <!-- Results will be dynamically inserted here -->
    </div>
</div>

<!--Footer-->
<footer>
    <div class="primaryContent">
        <div class="left area">
            <div class="AboutUs">
                <h3>About Us</h3>
            </div>
            <div class="content">
                <p>TravelSpot PH is your trusted companion for exploring the Philippines' most beautiful destinations. We provide comprehensive travel guides and insider tips to help you discover the best of what our islands have to offer.</p>
                <div class="social">
                    <a href="https://www.facebook.com/"><span class="fab fa-facebook"></span></a>
                    <a href="https://www.instagram.com/?hl=en"><span class="fab fa-instagram"></span></a>
                    <a href="https://twitter.com/"><span class="fab fa-twitter"></span></a>
                    <a href="https://www.youtube.com/"><span class="fab fa-youtube"></span></a>
                </div>
            </div>
        </div>

        <div class="center area">
            <h3>Address</h3>
            <div class="content">
                <div class="place">
                    <span class="fas fa-map-marker-alt"></span>
                    <span class="Atext">Muntinlupa City, Metro Manila</span>
                </div>
                <div class="number">
                    <span class="fas fa-phone-alt"></span>
                    <span class="Atext">09572423121</span>
                </div>
                <div class="email">
                    <span class="fas fa-envelope"></span>
                    <span class="Atext">TravelSpotPH@gmail.com</span>
                </div>
            </div>
        </div>

        <div class="right area">
            <h3>Contact Us</h3>
            <div class="content">
                <form action="#">
                    <div class="email">
                        <div class="Atext">Email*</div>
                        <input type="email" required>
                    </div>
                    <div class="message">
                        <div class="Atext">Message*</div>
                        <textarea cols="25" rows="2" required></textarea>
                    </div>
                    <div class="btn">
                        <button type="submit">Send</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <div class="bottom">
        <center>
            <span class="title"><a href="#">TravelSpotPH</a> | </span>
            <span class="far fa-copyright"></span><span> 2023 All rights reserved.</span>
        </center>
    </div>
</footer>

<script>
// Search functionality
const destinations = [
    {
        name: 'Palawan',
        url: 'palawan.html',
        image: 'img/Palawan.jpg',
        description: 'Known for its stunning beaches, underground river, and island hopping adventures.',
        keywords: ['palawan', 'underground river', 'el nido', 'coron', 'beach', 'island', 'island hopping', 'diving', 'snorkeling', 'lagoon', 'limestone']
    },
    {
        name: 'Boracay',
        url: 'boracay.html',
        image: 'img/Boracay.jpg',
        description: 'Famous for its white sand beaches, crystal clear waters, and vibrant nightlife.',
        keywords: ['boracay', 'white beach', 'white sand', 'beach', 'paradise', 'swimming', 'sunset', 'party', 'nightlife', 'water sports', 'willys rock', 'ariels point']
    },
    {
        name: 'Bohol',
        url: 'bohol.html',
        image: 'img/Bohol.jpg',
        description: 'Home to the famous Chocolate Hills, tarsiers, and beautiful river cruises.',
        keywords: ['bohol', 'chocolate hills', 'tarsier', 'loboc river', 'river cruise', 'hills', 'nature', 'wildlife', 'panglao', 'beach']
    },
    {
        name: 'Siargao',
        url: 'siargao.html',
        image: 'img/Siargao.jpg',
        description: 'Surfing capital of the Philippines with pristine beaches and island adventures.',
        keywords: ['siargao', 'surfing', 'cloud 9', 'surf', 'waves', 'beach', 'island', 'naked island', 'sugba lagoon', 'magpupungko', 'rock pools']
    },
    {
        name: 'Baguio',
        url: 'baguio.html',
        image: 'img/Baguio.jpg',
        description: 'Summer capital of the Philippines, known for cool weather, pine trees, and strawberries.',
        keywords: ['baguio', 'summer capital', 'cool weather', 'pine trees', 'strawberry', 'mines view', 'burnham park', 'session road', 'mountains', 'highlands']
    }
];

function performSearch() {
    const urlParams = new URLSearchParams(window.location.search);
    const searchQuery = urlParams.get('search') || '';
    const searchInput = document.getElementById('searchInput');
    const searchQueryDisplay = document.getElementById('searchQuery');
    const resultsContainer = document.getElementById('resultsContainer');

    searchInput.value = searchQuery;

    if (!searchQuery) {
        searchQueryDisplay.innerHTML = '';
        resultsContainer.innerHTML = `
            <div class="no-results">
                <i class="fas fa-search"></i>
                <h2>Start Your Search</h2>
                <p>Enter a destination or keyword to search for travel destinations in the Philippines.</p>
            </div>
        `;
        return;
    }

    searchQueryDisplay.innerHTML = `Showing results for: <strong>"${searchQuery}"</strong>`;

    // Search logic
    const results = [];
    const searchLower = searchQuery.toLowerCase();

    destinations.forEach(dest => {
        const nameMatch = dest.name.toLowerCase().includes(searchLower);
        const keywordMatch = dest.keywords.some(keyword => keyword.includes(searchLower));

        if (nameMatch || keywordMatch) {
            results.push(dest);
        }
    });

    if (results.length === 0) {
        resultsContainer.innerHTML = `
            <div class="no-results">
                <i class="fas fa-times-circle"></i>
                <h2>No Results Found</h2>
                <p>We couldn't find any destinations matching "<strong>${searchQuery}</strong>"</p>
                <p class="suggestions">Try searching for: Palawan, Boracay, Bohol, Siargao, or Baguio</p>
            </div>
        `;
    } else {
        let html = '<div class="results-grid">';
        results.forEach(result => {
            html += `
                <div class="result-card">
                    <a href="${result.url}" class="result-link">
                        <div class="result-image">
                            <img src="${result.image}" alt="${result.name}">
                            <div class="result-overlay">
                                <span>Explore!</span>
                            </div>
                        </div>
                        <div class="result-info">
                            <h3>${result.name}</h3>
                            <p>${result.description}</p>
                            <span class="view-more">View Details <i class="fas fa-arrow-right"></i></span>
                        </div>
                    </a>
                </div>
            `;
        });
        html += '</div>';
        html += `<div class="results-count"><p>Found <strong>${results.length}</strong> destination${results.length > 1 ? 's' : ''}</p></div>`;
        resultsContainer.innerHTML = html;
    }
}

// Perform search on page load
performSearch();
</script>

</body>
</html>